<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TDR Consultoria - Detalhes da Notícia</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">   
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../../assets/css/navbar.css">
    <link rel="stylesheet" href="../../assets/css/footer.css">
    <link rel="stylesheet" href="../../assets/css/noticiasCSS/noticia-detalhes.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <div id="navbarimplementador"></div>

    <div class="margemtopo">
        <section class="centralizacontainer">
            <div class="noticia-container">
                <div class="container mt-5">
                    <div id="noticia-detalhada"></div>
                    
                </div>
                <a href="noticias.html" class="voltar-btn">
                    <i class="fas fa-arrow-left"></i> Voltar para Notícias
                </a>
            </div>
        </section>
    </div>

    <div id="footerimplementador"></div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../../assets/js/globaisjs/navbarplusfooterimplementador.js"></script>
    <script src="../../assets/js/noticiasjs/noticia-detalhes.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const urlParams = new URLSearchParams(window.location.search);
            const noticiaId = urlParams.get('id');

            if (noticiaId) {
                const noticias = JSON.parse(localStorage.getItem('noticias')) || [];
                const noticia = noticias.find(n => n.id === noticiaId);

                if (noticia) {
                    const noticiaDetalhada = document.getElementById('noticia-detalhada');
                    noticiaDetalhada.innerHTML = `
                        <div class="noticia-header">
                            <span class="noticia-tema">
                                <i class="fas fa-tag"></i> ${noticia.tema || 'Geral'}
                            </span>
                            <h1 class="noticia-titulo">${noticia.titulo}</h1>
                            <div class="noticia-subtitulo">${noticia.subtitulo || ''}</div>
                            <div class="noticia-meta">
                                <span><i class="far fa-calendar"></i> ${new Date(noticia.data).toLocaleDateString()}</span>
                                <span><i class="far fa-user"></i> ${noticia.autor}</span>
                                <span><i class="far fa-clock"></i> ${noticia.tempoLeitura || '5 min de leitura'}</span>
                            </div>
                        </div>
                        
                        <img src="${noticia.imagem}" alt="${noticia.titulo}" class="noticia-imagem">
                        
                        <div class="noticia-conteudo">
                            ${noticia.descricao}
                        </div>
                        
                        <div class="noticia-autor-info">
                            <img src="${noticia.autorAvatar || '../../assets/images/default-avatar.png'}" alt="${noticia.autor}" class="autor-avatar">
                            <div class="autor-detalhes">
                                <div class="autor-nome">${noticia.autor}</div>
                                <div class="autor-bio">${noticia.autorBio || 'Colaborador da TDR Consultoria'}</div>
                            </div>
                        </div>
                    `;

                    // Atualizar o título da página
                    document.title = `${noticia.titulo} - TDR Consultoria`;
                }
            }
        });
    </script>
</body>
</html>